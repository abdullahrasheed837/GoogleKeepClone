<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="/img/fav.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
      integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="/assets/css/style.css" />
    <title>Google Keep</title>
  </head>
  <body>
    <header class="fixed-top">
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg bg-white border-bottom">
        <div class="container-fluid">
          <!-- First container start (Menu, Logo and Keep text)-->
          <div class="col-2 d-flex align-items-center p-1">
            <div class="box me-3" title="Main Menu" onclick="sidebarAdjust()">
              <i class="fa-solid fa-bars"></i>
            </div>
            <div class="box1 me-3" title="Keep">
              <img id="logo" src="/img/keep.png" alt="keep logo" />
            </div>

            <div class="box1 me-3">
              <span class="product-san" title="Keep">Keep</span>
            </div>
            <!-- First container end (Menu, Logo and Keep text)-->
          </div>
          <!-- second container start (Search) -->
          <div
            class="col-6 d-flex align-items-center p-1 rounded searchcontainer"
          >
            <div class="box" title="Search">
              <img src="/img/search.png" width="18" height="18" alt="search" />
            </div>
            <div class="container-fluid p-0">
              <input
                type="text"
                id="search_input"
                name="search_input"
                placeholder="Search"
              />
            </div>

            <div class="box close" onclick="location.reload()" title="Search">
              <img src="/img/close.png" width="13" height="13" alt="search" />
            </div>
          </div>
          <!-- second container end (Search)-->
          <div class="col-1"></div>
          <div class="col-3 d-flex align-items-center">
            <div class="box ms-5" title="Refresh" onclick="location.reload()">
              <img
                src="/img/refresh.png"
                alt="refresh"
                height="20"
                width="20"
              />
            </div>
            <div class="box ms-1" title="List View">
              <img src="/img/equal.png" height="26" width="26" alt="list" />
            </div>
            <div class="box ms-1" title="Setting">
              <img src="/img/gear.png" alt="setting" height="22" width="22" />
            </div>
            <div class="box ms-3" title="Google Apps">
              <img
                src="/img/application.png"
                height="18"
                width="18"
                alt="app"
              />
            </div>
            <div class="box ms-4" id="logout" title="Log out">
              <img
                src="/img/SigninLogo.png"
                alt="avatar"
                width="25"
                height="25"
              />
            </div>
          </div>
        </div>
      </nav>
      <!-- Navbar End -->
    </header>
    <!-- below container -->
    <div class="container-fluid d-flex m-0 p-0 mt-5">
      <!-- sidebar -->
      <div class="col-3 pe-5 mt-3" id="Sidebar">
        <div class="row p-3 me-5 mt-2 Side-Items active">
          <div class="col-3 ps-4">
            <img src="/img/bulb.png" width="22" height="22" alt="" />
          </div>
          <div class="col-9 Side-Items-text"><span>Notes</span></div>
        </div>
        <div class="row p-3 me-5 Side-Items">
          <div class="col-3 ps-4">
            <img src="/img/bell.png" width="20" height="20" alt="" />
          </div>
          <div class="col-9 Side-Items-text"><span>Reminders</span></div>
        </div>
        <div class="row p-3 me-5 Side-Items">
          <div class="col-3 ps-4">
            <img src="/img/pencil.png" width="20" height="20" alt="" />
          </div>
          <div class="col-9 Side-Items-text"><span>Edit Labels</span></div>
        </div>
        <div class="row p-3 me-5 Side-Items">
          <div class="col-3 ps-4">
            <img src="/img/archive.png" width="20" height="20" alt="" />
          </div>
          <div class="col-9 Side-Items-text"><span>Archive</span></div>
        </div>
        <div class="row p-3 me-5 Side-Items">
          <div class="col-3 ps-4">
            <img src="/img/trash.png" width="20" height="20" alt="" />
          </div>
          <div class="col-9 Side-Items-text"><span>Bin</span></div>
        </div>
      </div>
      <!-- sidebar end -->

      <div class="col">
        <div class="row m-0 p-0">
          <div id="take-a-note" class="col-9 mt-5 mb-4 justify-content-center">
            <div
              class="container-fluid taking-note rounded p-0 w-75 d-flex align-items-center"
            >
              <div
                class="container-fluid col-9 py-2 hello"
                onclick="clickingNote()"
              >
                <input
                  type="text"
                  class="note_input"
                  name="note_input"
                  placeholder="Take a note..."
                  style="width: 100%"
                />
              </div>
              <div
                class="container-fluid col-3 p-0 d-flex justify-content-around"
              >
                <div class="box p-2" title="New List">
                  <img src="/img/newlist.png" alt="" />
                </div>
                <div class="box p-2" title="New note with drawing">
                  <img src="/img/brush.png" alt="" />
                </div>
                <div class="box p-2 me-1" title="New note with image">
                  <img src="/img/image.png" alt="" />
                </div>
              </div>
            </div>
          </div>
          <div id="close-a-note" class="col-9 mt-5 mb-4 justify-content-center">
            <div
              class="container-fluid taking-note p-0 w-75 align-items-center"
            >
              <div class="container d-flex">
                <div class="container-fluid col-12 py-2">
                  <textarea
                    class="border-0"
                    type="text"
                    id="title_input"
                    placeholder="Title"
                    style="width: 100%"
                    rows="1"
                  ></textarea>
                </div>
              </div>
              <div class="container d-flex">
                <div class="container-fluid col-12 py-2">
                  <textarea
                    type="text"
                    class="note_input"
                    id="note_input"
                    placeholder="Take a note..."
                    style="width: 100%"
                    rows="1"
                  ></textarea>
                </div>
              </div>
              <div class="container d-flex">
                <div class="container d-flex justify-content-start">
                  <button
                    onclick="addNote()"
                    type="button"
                    class="btn btn mb-1"
                    style="border: none"
                  >
                    Add
                  </button>
                </div>
                <div class="container d-flex justify-content-end">
                  <button
                    onclick="location.reload()"
                    type="button"
                    class="btn btn mb-1"
                    style="border: none"
                  >
                    Close
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div
          class="row m-0 p-0"
          id="notes-area"
          data-masonry='{"percentPosition": true }'
        ></div>
      </div>
    </div>

    <!-- Modal for Editing notes -->
    <div class="modal fade" id="Edit-Notes">
      <div class="modal-dialog modal-md modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-body p-0"></div>

          <div class="container-fluid col-11 py-2 ms-0">
            <textarea
              class="border-0"
              type="text"
              id="title_input_modal"
              placeholder="Title"
              style="width: 100%"
              rows="1"
            ></textarea>
          </div>

          <div class="container-fluid col-12 py-2">
            <textarea
              type="text"
              id="note_input_modal"
              placeholder="Note"
              style="width: 100%"
              rows="1"
            ></textarea>
          </div>

          <div class="container d-flex justify-content-end">
            <button
              data-bs-dismiss="modal"
              type="button"
              class="btn btn mb-1"
              style="border: none"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
    <script src="/assets/js/script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
      integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
      integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js"
      integrity="sha384-GNFwBvfVxBkLMJpYMOABq3c+d3KnQxudP/mGPkzpZSTYykLBNsZEnG2D9G/X/+7D"
      crossorigin="anonymous"
      async
    ></script>
  </body>
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-app.js";
    import {
      getDatabase,
      set,
      ref,
      update,
    } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-database.js";
    import {
      getAuth,
      createUserWithEmailAndPassword,
      signInWithEmailAndPassword,
      onAuthStateChanged,
      signOut,
    } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-auth.js";
    const firebaseConfig = {
      apiKey: "AIzaSyB_AQaoGnPFmIUpJnu8_04gcuDTaXd2LjA",
      authDomain: "keepclone-553b9.firebaseapp.com",
      databaseURL: "https://keepclone-553b9-default-rtdb.firebaseio.com",
      projectId: "keepclone-553b9",
      storageBucket: "keepclone-553b9.appspot.com",
      messagingSenderId: "309819708070",
      appId: "1:309819708070:web:980e9784ac2ca759301a67",
    };
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
    const auth = getAuth();
    logout.addEventListener("click", (e) => {
      signOut(auth)
        .then(() => {
          // Sign-out successful.
          alert("user logged out");
          window.location.replace("index.html");
        })
        .catch((error) => {
          // An error happened.
          const errorCode = error.code;
          const errorMessage = error.message;
          alert(errorMessage);
        });
    });
    const user = auth.currentUser;
    onAuthStateChanged(auth, (user) => {
      if (user) {
        // User is signed in, see docs for a list of available properties
        // https://firebase.google.com/docs/reference/js/firebase.User
        const uid = user.uid;
        // console.log("YES");
        // ...
      } else {
        // console.log("NO");
        window.location.href = "index.html";
      }
    });
  </script>
</html>
